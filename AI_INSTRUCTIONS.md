## 基本情報
- docs/design.mdに従って開発を進めています
- docs/checklist.mdは開発の手順と進捗が記載されています

## 注意事項
- 実装に入る前に、必ずその内容を説明し、承認を得てください。
- 開発中にエラーが出たら、openai-o3を使用して解決を図ってください。
- o3モデルの長大なコンテキストを活かし、ログやエラー文、関連するすべてのファイルを省略せず、完全な内容を使用してください。
- 必ずテスト駆動実装し、実装が完了したらビルドテストを実施してください。
- 必ず、毎回この注意事項を完全に復唱してから開発を進めてください。

## 依頼
- docs/design.mdを確認してください。
- docs/checklist.mdを確認してください。
- 設計を大きく変えたいと考えています。以下のようにしたいと考えています。これを実現するための設計をユーザーと話し合ってください。また、これを踏まえて、設計ドキュメントとチェックリストを更新したいです。

### 設計変更案
- 各エージェント単位をユニットとして扱う
- すべてのユニットは同じ機能を有する
- ユニットが有する機能とその仕様は以下の通り
	- 必ず起動時に全体の要件定義書と自身に与えられたタスク、あれば自身のタスクにスコープした個別の要件定義書を読み込む
	- 自身に与えられたタスクが複数のタスクに分解できる場合、分解する。分解する必要がない場合、一般的なテスト駆動開発に従って開発を行う。
	- タスクを分解した場合、自身のタスクにスコープした要件定義書(分解タスクリストを含む)を作成する
	- 分解したタスクにはそれぞれブランチ及びworktreeと担当する子ユニットを割り振り、子ユニットからタスクの通知報告を受け取るのを待機する
	- 直接の親子関係にあるユニットのみ、通知を利用して会話を行うことができる
	- 自身に与えられたタスク達成時にPR作成とマージの責任を持つ。コンフリクト発生時は自身で解決を図る
	- 与えられたタスクのPRとマージが完了した際や、何らかの原因で失敗した際は、それを親ユニットに報告する
	- 子ユニットからタスク完了の報告を受けた親ユニットは、その結果を受けて追加指示を子ユニットに送ったり、必要なタスクが発生したと判断される場合にはさらに子ユニットを作成したりする。
	- ブランチの命名規則は、タスクに由来するものとし、ユニットの親子関係を引き継ぐ名前にする。